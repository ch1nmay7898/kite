(this.webpackJsonpgroupthink=this.webpackJsonpgroupthink||[]).push([[0],{224:function(e,t,n){},277:function(e,t,n){e.exports=n(473)},282:function(e,t,n){},283:function(e,t,n){},295:function(e,t,n){},300:function(e,t,n){},301:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){e.exports=n.p+"static/media/1.bb11a7e3.webp"},305:function(e,t,n){e.exports=n.p+"static/media/2.3bb12c20.webp"},306:function(e,t,n){e.exports=n.p+"static/media/3.3651e14c.webp"},307:function(e,t,n){e.exports=n.p+"static/media/4.fb14f3f8.webp"},323:function(e,t){},325:function(e,t){},335:function(e,t){},337:function(e,t){},364:function(e,t){},365:function(e,t){},370:function(e,t){},372:function(e,t){},396:function(e,t){},413:function(e,t,n){},414:function(e,t,n){e.exports=n.p+"static/media/search-icon.80bcf4cc.svg"},416:function(e,t,n){},438:function(e,t,n){},439:function(e,t,n){},440:function(e,t,n){e.exports=n.p+"static/media/cursor.3f646017.svg"},441:function(e,t,n){},448:function(e,t,n){e.exports=n.p+"static/media/loadingscience.11761717.gif"},449:function(e,t,n){},473:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(38),o=n.n(c),i=(n(282),n(43)),l=n(32);n(283);function s(e){var t=Object(l.h)();return console.log("splashpage says: I was consulted",t),e.pendingAuth?r.a.createElement("div",{id:"splash"},r.a.createElement("h1",{id:"splashText"},"Welcome to groupthink!"),r.a.createElement("blockquote",null,"Unleash your ideas")):r.a.createElement(l.a,{to:{pathname:e.isAuth?"/dashboard":"/login",state:{from:t}}})}var u=n(234),d=n.n(u);n(295);function m(e){var t,n=Object(l.h)(),a="/dashboard";return void 0!=(null===(t=n.state)||void 0===t?void 0:t.from)&&(a=n.state.from.pathname),e.authState.isSignedIn?r.a.createElement(l.a,{to:{pathname:a,state:{from:n}}}):r.a.createElement("div",{id:"login"},r.a.createElement("div",{id:"landing"},r.a.createElement("div",{className:"landing-title"},"groupthink"),r.a.createElement("div",{className:"landing-subtitle"},r.a.createElement("b",null,"Unleash your ideas like never before")),r.a.createElement("div",{className:"landing-text"},r.a.createElement("em",null,"groupthink")," is a real-time collaborative platform that brings the power of the web into a new type of document.")),r.a.createElement(d.a,{className:"landing-login",uiConfig:e.uiConfig,firebaseAuth:e.auth()}))}var h=n(125),p=function(e){e.path;var t=e.children,n=e.isAuth,a=Object(h.a)(e,["path","children","isAuth"]);return r.a.createElement(l.b,Object.assign({},a,{render:function(e){var a=e.location;return n?t:r.a.createElement(l.a,{to:{pathname:"/",state:{from:a}}})}}))},f=n(1),g=n.n(f),b=n(44),v=n(8),j=n(9),E=n(5),O=n(19);n(164),n(297),n(298),n(299);O.initializeApp({apiKey:"AIzaSyAjOQlUVvfpaPFKw_dsjVF-ZO9xAFFwLJc",authDomain:"groupthink-fc4b2.firebaseapp.com",databaseURL:"https://groupthink-fc4b2.firebaseio.com",projectId:"groupthink-fc4b2",storageBucket:"groupthink-fc4b2.appspot.com",messagingSenderId:"268412476509",appId:"1:268412476509:web:6a00e11a591b5852d4c1b4",measurementId:"G-94X9F74RYY"});var y=O.auth,k=O.database(),x=O.database.ServerValue.TIMESTAMP,w=O.storage,C=(O.storage().ref(),O.functions()),I={tester:{center:{x:300,y:300},container:{height:"4000px",width:"4000px"},nodes:{root:{children:{dummy:1}}}}},U=r.a.memo((function(e){var t=e.handleClick,n=e.children,a=e.className,c=e.style,o=e.isLocked;return r.a.createElement("button",{onClick:t,className:a,style:c,disabled:o},n)})),A=n(263);n(300);var D=r.a.memo((function(e){return r.a.createElement(A.a,{style:{margin:e.margin||"5px 5px 5px 5px",fontWeight:e.bold?"bold":"normal",width:e.widthOffset?"calc(100% - "+e.widthOffset+"px)":"95%",height:"auto",fontFamily:e.fontFamily||"Varela Round, sans-serif",textDecorationLine:e.strikethrough?"line-through":"none",color:e.color||"black",cursor:"initial",borderColor:e.borderColor},className:"inline-input",placeholder:e.placeholder||"Type something here...",value:e.text,onChange:e.onChange,onBlur:e.onSave,disabled:e.disabled,spellCheck:"false",onFocus:e.onFocus,autoFocus:e.forceFocus})}));n(301),n(302);var S=r.a.memo((function(e){var t,n=null===(t=e.card)||void 0===t?void 0:t.createdAt;return Date.now(),e.addNew?r.a.createElement("div",{className:"project-card"},r.a.createElement(U,{className:"custom_btn",handleClick:e.onAddNew},"Create New Project")):r.a.createElement("div",{id:e.id,className:"project-card"},e.card.shared?r.a.createElement("div",null,"Shared By :- ",e.card.shared.name," ",r.a.createElement("br",null)," Shared Type : ",e.card.shared.type):null,r.a.createElement("img",{onClick:function(){return e.onOpen(e.id)},src:e.card.thumbnailURL,alt:"project thumbnail"}),void 0===e.card.shared?r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{className:"project-card-item",text:e.card.name,onChange:function(t){return e.onChange(e.id,t.target.value)},onSave:function(){return e.onSave(e.id)}}),r.a.createElement(U,{className:"project-card-item custom_btn highlight",style:{marginBottom:"5px"},handleClick:function(){return e.onDelete(e.id)}},"Delete"),r.a.createElement("p",null,"Last Modified At : ",new Date(n).toDateString()),r.a.createElement("p",null,"Last Modified On : ",new Date(n).toTimeString()," ")):r.a.createElement(r.a.Fragment,null,"Project Name: ",e.card.name,r.a.createElement("p",null,"Last Modified At : ",new Date(n).toDateString()),r.a.createElement("p",null,"Last Modified On : ",new Date(n).toTimeString()," ")))}));n(303);function N(e){var t=Object(l.g)(),c=Object(a.useState)(null),o=Object(E.a)(c,2),i=o[0],s=o[1],u=Object(a.useState)(!1),d=Object(E.a)(u,2),m=d[0],h=d[1],p="users/"+e.currentUser().uid+"/projects/";Object(a.useEffect)((function(){var t=k.ref("users/"+e.currentUser().uid+"/projects/").orderByChild("createdAt");return t.on("child_added",(function(e){console.log("synced new card added for",e.key),s((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(v.a)({},e.key,e.val()))})),h(!0)})),t.on("child_changed",(function(e){console.log("synced card Changed for",e.key),s((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(v.a)({},e.key,e.val()))}))})),t.on("child_removed",(function(e){console.log("synced card deleted for",e.key),s((function(t){var n=Object(j.a)({},t);return delete n[e.key],n}))})),function(){t.off("child_added"),t.off("child_removed"),t.off("child_changed")}}),[e]);var f=function(){var t=Object(b.a)(g.a.mark((function t(n){var a,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("about to delete project",n),a=k.ref("documents/"+n+"/users").once("value").then((function(e){return e.val()})).catch((function(e){return console.log("onDelete Error",e)})),console.log("UID DATA KEYS",a),r={},t.next=6,a.then((function(t){t&&Object.keys(t).map((function(t){t!==e.currentUser().uid&&(r["users/"+t+"/projects/"+n+"/"]=null)}))})).catch((function(e){return console.log("Error While UID Fetch",e)}));case 6:r["documents/"+n+"/"]=null,r["creator/"+n+"/"]=null,r[p+n]=null,console.log("UPDATES ",r),C.httpsCallable("createNewProject")(r).then((function(e){return console.log(e,r)})).catch((function(e){return console.log("ERROR WHILE DELETE",e)})),c=function(e,t){w().ref(e).child(t).delete().then(console.log("File Deleted")).catch((function(e){return console.log("File Delete Error",e)}))},function e(t){console.log("Path TO Delete",t);var n=w().ref(t);n.listAll().then((function(t){t.prefixes.length>0||t.items.length>0?(t.items.length>0&&t.items.forEach((function(e){c(n.fullPath,e.name)})),t.prefixes.forEach((function(t){e(t.fullPath)}))):console.log("No Files Exist")})).catch((function(e){console.log("List All Error ",e)}))}("root/"+n+"/");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(b.a)(g.a.mark((function t(n){var a,r,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=k.ref("documents/"+n+"/users").once("value").then((function(e){return e.val()})).catch((function(e){return console.log("on Rename Error",e)})),console.log("UID DATA KEYS",a,n),r=i[n].name,console.log("about to rename project",n,", changing title to",r),c={},t.next=7,a.then((function(t){console.log("ENTRIES ",t),Object.keys(t).map((function(t){console.log("DATAKEYS Count",t),t!==e.currentUser().uid&&(c["users/"+t+"/projects/"+n+"/name"]=r)}))})).catch((function(e){return console.log("Error While UID Fetch",e)}));case 7:c["documents/"+n+"/metadata/name"]=r,c["users/"+e.currentUser().uid+"/projects/"+n+"/name/"]=r,C.httpsCallable("createNewProject")(c).then((function(e){return console.log("successfully renamed project",n,"to",r,"\n and Updates are \n ",e,c)})).catch((function(e){return console.log(e)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(e){console.log("attempting to open project",e),t.push("/project/"+e)},U=function(e,t){console.log("un-finalized text change in",e,". new text:",t),console.log(Object(j.a)(Object(j.a)({},i),{},Object(v.a)({},e,Object(j.a)(Object(j.a)({},i[e]),{},{name:t})))),s(Object(j.a)(Object(j.a)({},i),{},Object(v.a)({},e,Object(j.a)(Object(j.a)({},i[e]),{},{name:t}))))},A=function(e){var t={},n=[];for(var a in e)n.push(a);for(var r=n.length-1;r>=0;r--){var c=e[n[r]];t[n[r]]=c}return t},D=i?Object.entries(A(i)).filter((function(e){var t=Object(E.a)(e,2);t[0];return t[1].shared})).map((function(e){var t=Object(E.a)(e,2),n=t[0],a=t[1];return r.a.createElement(S,{key:n,id:n,card:a,onChange:U,onSave:O,onDelete:f,onOpen:y})})):null,N=i?Object.entries(A(i)).filter((function(e){var t=Object(E.a)(e,2);t[0];return!t[1].shared})).map((function(e){var t=Object(E.a)(e,2),n=t[0],a=t[1];return r.a.createElement(S,{key:n,id:n,card:a,onChange:U,onSave:O,onDelete:f,onOpen:y})})):null;return console.log("owner",N,"shared",D),m?r.a.createElement("div",{className:"project-view-container"},r.a.createElement("div",{className:"project-container-title"}," Your Projects"),r.a.createElement("div",{className:"project-card-container"},r.a.createElement(S,{addNew:!0,onAddNew:function(){console.log("clicked add new");var t=k.ref().child(p).push().key,a={},r=[n(304),n(305),n(306),n(307)],c=r[Math.floor(Math.random()*r.length)];a["creator/"+t]=e.currentUser().uid,a[p+t]={access:"rw",name:"New Project",thumbnailURL:c,isLocked:!1,createdAt:x,id:t},a["documents/"+t]=Object(j.a)({metadata:{name:"New Project",thumbnailURL:c,datecreated:x},lastActive:Object(v.a)({},e.currentUser().uid,x),users:Object(v.a)({},e.currentUser().uid,{permission:"rw",email:e.currentUser().email,photoURL:e.currentUser().photoURL,name:e.currentUser().displayName,isOwner:!0,lastUpdatedAt:x})},I.tester),C.httpsCallable("createNewProject")(a).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}}),N),r.a.createElement("div",{className:"project-container-title"},"Shared With You"),r.a.createElement("div",{className:"project-card-container"},D&&D.length>0?D:r.a.createElement("div",{className:"project-container-nodata"},"No one has shared a project with you yet. SAD!"))):r.a.createElement("div",null,"Loading...")}var P=n(18),L=n(504),T=n(503),z=n(260),F=n(236),R=n(491),_=n(492),M=n(493),V=n(494),B=n(495),Y=n(496),W=n(497),H=n(498),q=n(499),$=n(500),G=n(501),K=n(502),X=function(e){var t=e.url,n=e.title,a=e.size,c=Object(F.Passers)({url:t,className:"network__share-button"})({className:"network cursor-pointer hover transition--default",title:"Share ".concat(t)})("li");return r.a.createElement("div",{className:"social_link"},r.a.createElement(c,null,r.a.createElement(R.a,{quote:n},r.a.createElement(_.a,{size:a})),r.a.createElement(M.a,{title:n},r.a.createElement(V.a,{size:a})),r.a.createElement(B.a,{title:n,separator:":: "},r.a.createElement(Y.a,{size:a})),r.a.createElement(W.a,{title:n,windowWidth:750,windowHeight:600},r.a.createElement(H.a,{size:a})),r.a.createElement(q.a,{url:String(window.location),windowWidth:1e3,windowHeight:730},r.a.createElement($.a,{size:a})),r.a.createElement(G.a,{subject:"Groupthink Web Link",body:"Here is the link ".concat(t)},r.a.createElement(K.a,{size:a}))))},J=n(103),Z=n(259),Q=(n(224),{DropdownIndicator:null}),ee=function(e){return{label:e,value:e}},te=function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r,c){var o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="documents/".concat(t,"/"),i={},"public"===c&&(i[o+"/users/public"]=r),i["".concat(o,"/cursors/").concat(n)]={x:0,y:0},i["".concat(o,"/users/").concat(n,"/lastUpdatedAt")]=x,i["".concat(o,"/lastActive/").concat(n)]={time:x},e.next=8,k.ref().update(i).then(console.log("Created ROOM")).catch((function(e){return e}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),ne=r.a.memo((function(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(!1),l=Object(E.a)(i,2),s=l[0],u=l[1],d=Object(a.useState)(!1),m=Object(E.a)(d,2),h=m[0],p=m[1],f=Object(a.useState)({inputValue:"",value:[]}),v=Object(E.a)(f,2),j=v[0],O=v[1],y=Object(a.useState)(),x=Object(E.a)(y,2),w=x[0],I=x[1],A=Object(a.useState)(),D=Object(E.a)(A,2),S=D[0],N=D[1],F=Object(a.useState)(),R=Object(E.a)(F,2),_=R[0],M=R[1],V=Object(a.useState)(null),B=Object(E.a)(V,2),Y=B[0],W=B[1];Object(a.useEffect)((function(){return k.ref("documents/"+H+"/users/").on("value",(function(e){return W(e.val())})),function(){return k.ref("documents/"+H+"/users/").off("value")}}),[]);var H=e.projectID,q=function(e,t){switch(t){case"usersUnderDocument":return"documents/".concat(H,"/users/").concat(e,"/");case"projectUnderUser":return"users/".concat(e,"/projects/").concat(H,"/");case"cursorUnderDocument":return"documents/".concat(H,"/cursors/").concat(e,"/");default:return}},$=function(e,t,n){return e.replace(new RegExp(G(t),"g"),n)},G=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},K=function(t){return function(){var n=$(J.encrypt(S,"grpthink12!").toString(),"/","$"),a=$(J.encrypt(e.currentUser.displayName,"grpthink12!").toString(),"/","$"),r=$(J.encrypt(w,"grpthink12!").toString(),"/","$"),c=String(window.location)+"/"+n+"/"+r+"/"+a,o={};o[S]=n,o[e.currentUser.displayName]=a,o[w]=r,o.customURL=c,console.log("Encryption Log \n",o),void 0!=w&&void 0!=S?("emailLink"===t?(p(!0),console.log("This Operation \n",w,S,_,h)):u(!0),te(e.projectID,e.currentUser.uid,e.currentUser.displayName,S,w).then("Room & Cursor Made").catch((function(e){return e})),M(c)):(p(!1),u(!1))}},ne=function(e){N(e.target.value)},ae=function(e){I(e.target.value)},re=function(){o(!1),u(!1),M(null),I(null),N(null),O({inputValue:"",value:[]}),p(!1)};var ce=function(e,t){return function(){var n=!0;"rw"===t&&(n=!1);var a={};a[q(e,"projectUnderUser")+"access"]=t,a[q(e,"projectUnderUser")+"isLocked"]=n,a[q(e,"usersUnderDocument")+"permission"]=t,C.httpsCallable("createNewProject")(a).then((function(e){return console.log("Updates Done",e,a)})).catch((function(e){return console.log(e)}))}},oe=function(e){return Object(b.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n={})[q(e,"projectUnderUser")+"access"]="rw",n[q(e,"projectUnderUser")+"shared"]=null,n[q(e,"usersUnderDocument")+"permission"]="rw",n[q(e,"usersUnderDocument")+"isOwner"]=!0,C.httpsCallable("createNewProject")(n).then((function(e){return console.log("Updates Done",e,n)})).catch((function(e){return console.log(e)}));case 7:case"end":return t.stop()}}),t)})))},ie=function(e){var t=j.inputValue,n=j.value;if(t)switch(e.key){case"Enter":case"Tab":console.group("Value Added"),console.log(n),console.groupEnd(),/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?O({inputValue:"",value:[].concat(Object(P.a)(n),[ee(t)])}):alert("Invalid Email Entered ".concat(t),O(j)),e.preventDefault()}};return r.a.createElement(r.a.Fragment,null,e.isOwner?null:r.a.createElement(U,{className:e.buttonClassName,handleClick:function(){return o(!0)}},"Share"),r.a.createElement(L.a,{show:c,onHide:re},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Share Your Project")),r.a.createElement(L.a.Body,null,"Type Of Link To be Shared",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",name:"linkType",value:"public",onChange:function(e){return ae(e)},required:!0}),r.a.createElement("label",{htmlFor:"male"},"Public"),r.a.createElement("input",{type:"radio",name:"linkType",value:"private",onChange:function(e){return ae(e)},required:!0}),r.a.createElement("label",{htmlFor:"male"},"Private "),r.a.createElement("br",null),r.a.createElement("input",{type:"radio",name:"options",value:"r",onChange:function(e){return ne(e)},required:!0}),r.a.createElement("label",{htmlFor:"male"},"Read Only"),r.a.createElement("input",{type:"radio",name:"options",value:"rw",onChange:function(e){return ne(e)},required:!0}),r.a.createElement("label",{htmlFor:"male"},"Read and Write "),r.a.createElement("br",null),h?r.a.createElement("div",null,r.a.createElement(Z.a,{components:Q,inputValue:j.inputValue,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e,t){console.group("Value Changed"),console.log(e),console.log("action: ".concat(t.action)),console.groupEnd(),O({inputValue:j.inputValue,value:e})}.bind(void 0),onInputChange:function(e){O({inputValue:e,value:j.value})},onKeyDown:function(e){return ie(e)},placeholder:"Type something and press enter...",value:j.value}),r.a.createElement("input",{type:"submit",onClick:function(){if(console.log("Send Emails",j.value),j.value.length>0){var e=C.httpsCallable("sendLinkEmail");Object.entries(j.value).map((function(t){var n=Object(E.a)(t,2),a=n[0],r=n[1],c={};console.log("ITEM",a,r),c.emailId=r.value,c.link=_,e(c).then((function(e){return console.log("Sended Email",e,c)})).catch((function(e){return console.log(e)}))}))}else console.log("EMPTY STRING")},className:"custom_btn"})):r.a.createElement(U,{className:"custom_btn",handleClick:K("emailLink")},"Send Email "),s?r.a.createElement("div",null,r.a.createElement("br",null),"Copy Your Link :",r.a.createElement("br",null),r.a.createElement("b",{style:{display:"inline-flex"}},_),r.a.createElement("br",null),r.a.createElement(X,{url:_,title:"Groupthink Website",size:"2.5rem"})):r.a.createElement(U,{className:"custom_btn",handleClick:K()},"Generate Link"),Y?Object.entries(Y).map((function(e){var t,n=Object(E.a)(e,2),a=n[0],c=n[1];return r.a.createElement("div",{key:a},r.a.createElement("hr",null),r.a.createElement("img",{src:null===c||void 0===c?void 0:c.photoURL,className:"menu-bar-user-profile-picture"}),r.a.createElement("b",null,null===c||void 0===c?void 0:c.email),"-",c.isOwner?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,c.name),r.a.createElement("span",null,"(Owner)")):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,null===c||void 0===c?void 0:c.name),"\xa0",r.a.createElement("span",null,r.a.createElement("strong",null,null===c||void 0===c?void 0:c.permission)),"\xa0 \xa0",r.a.createElement("span",null,r.a.createElement(U,{handleClick:(t=a,function(){var e={};e[q(t,"projectUnderUser")]=null,e[q(t,"usersUnderDocument")]=null,e[q(t,"cursorUnderDocument")]=null,C.httpsCallable("createNewProject")(e).then((function(t){return console.log("Updates Done",t,e)})).catch((function(e){return console.log(e)}))})},"X")),r.a.createElement(T.a,{title:null===c||void 0===c?void 0:c.permission,size:"sm"},r.a.createElement(z.a.Item,{onClick:ce(a,"r")},"Read Only"),r.a.createElement(z.a.Item,{onClick:ce(a,"rw")},"Read And Write"),r.a.createElement(z.a.Divider,null),r.a.createElement(z.a.Item,{onClick:oe(a)},"Make Owner"))))})):r.a.createElement("p",null,r.a.createElement("hr",null),"No Lists")),r.a.createElement(L.a.Footer,null,r.a.createElement(U,{className:"custom_btn",handleClick:re},"Close"),r.a.createElement(U,{className:"custom_btn",handleClick:re},"Save Changes"))))})),ae=n(100),re=(n(413),r.a.memo((function(e){return r.a.createElement("div",{className:"menu-bar-searchbox"},r.a.createElement("img",{className:"searchbar-search-icon",alt:"magnifying glass",src:n(414)}),r.a.createElement(D,{borderColor:"black",placeholder:"Search for an item or action"}))}))),ce=n(29),oe=n(62),ie=(n(416),"https://api.simplewebrtc.com/config/guest/".concat("120319f9263e8477a01064c0")),le=oe.i();function se(e){return r.a.createElement("div",{className:"peer-item",style:{border:"2px solid black"}},"Peer Name: ",e.peer.displayName," ",e.peer.speaking?"is speaking":null)}var ue=function(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),c=n[0],o=n[1];return r.a.createElement("div",{className:""},r.a.createElement(ce.a,{store:le},r.a.createElement(oe.d,{configUrl:ie,displayName:e.currentUser.displayName},r.a.createElement(oe.b,null,r.a.createElement("p",null,"Connecting...")),r.a.createElement(oe.a,null,r.a.createElement("button",{className:c?"room-connect disconnect":"room-connect connect",onClick:function(){return o(!c)}},c?"Leave":"Join"),c?r.a.createElement("div",null,r.a.createElement(oe.f,{audio:!0,auto:!0,audioTypeHint:"speech"}),r.a.createElement(oe.e,null),r.a.createElement(oe.g,{name:"document_id",password:"default"},(function(e){return r.a.createElement("div",null,e.peers.map((function(e){return r.a.createElement(se,{peer:e})})),r.a.createElement(oe.h,null,(function(e){return r.a.createElement("button",{onClick:function(){e.isMuted?e.unmute():e.mute()}},e.isMuted?"Click to Unmute":"Click to Mute")})))}))):null),r.a.createElement(oe.c,null,"Lost Connection"))))};function de(e){var t=e.currentUser();return r.a.createElement("div",{className:"menu-bar topheader"},r.a.createElement("div",{className:"menu-bar-panel menu-bar-panel-left"},r.a.createElement("div",{className:"site-title"},r.a.createElement(i.b,{to:"/dashboard"},"groupthink"))),r.a.createElement("div",{className:"menu-bar-panel menu-bar-panel-center"},e.documentName?r.a.createElement("div",{className:"menu-bar-project-title"},(""+e.documentName).length>40?(""+e.documentName).substring(0,37).concat("..."):e.documentName):null,r.a.createElement(re,{projectID:e.projectID,buttonClassName:"menu-action-button highlight",currentUser:t,isOwner:e.isOwner})),r.a.createElement("div",{className:"menu-bar-panel menu-bar-panel-right"},e.document?r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,{currentUser:t}),r.a.createElement(ne,{projectID:e.projectID,buttonClassName:"menu-action-button highlight",currentUser:t,isOwner:e.isOwner})):null,r.a.createElement(U,{className:"menu-action-button",handleClick:e.onLogOut},"Log Out"),r.a.createElement("img",{alt:"",className:"menu-bar-user-profile-picture",src:t.photoURL})))}function me(e){var t=Object(l.h)();return r.a.createElement("div",null,r.a.createElement(de,{onLogOut:function(){return e.signOut(),r.a.createElement(l.a,{to:{pathname:"/dashboard",state:{from:t}}})},currentUser:e.currentUser,dashboard:!0}),r.a.createElement(N,{currentUser:e.currentUser}))}var he=n(47),pe=n(233),fe=n(90),ge=n.n(fe),be=r.a.memo((function(e){var t,n=e.content.url.split("v=")[1],a=n.indexOf("&");return-1!=a&&(n=n.substring(0,a)),console.log("YTID ",n),r.a.createElement(r.a.Fragment,null,(null===(t=e.content)||void 0===t?void 0:t.url)?r.a.createElement("div",null,r.a.createElement(ge.a,{url:e.content.url,width:"",height:"250px",controls:!0,light:!0,pip:!0,stopOnUnmount:!1,ref:function(e){e&&console.log(e)}})):null)})),ve=n(241),je=r.a.memo((function(e){return r.a.createElement("div",null,void 0===e.content.text?Object.entries(e.content).map((function(e,t){var n,a;return r.a.createElement("div",{key:e[0]},"File Name :",r.a.createElement("a",{href:null===(n=e[1])||void 0===n?void 0:n.url,target:"_blank"},e[0].split(">")[0]),r.a.createElement(ve.a,{src:null===(a=e[1])||void 0===a?void 0:a.url,style:{overflow:"hidden",display:"inline-table"},scrolling:"no"}))})):null)})),Ee=n(242),Oe=(n(429),r.a.memo((function(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),c=n[0],o=n[1],i=function(){return o(!0)},l=function(){return o(!1)};return r.a.createElement(r.a.Fragment,null,Object.entries(e.content).map((function(t){var n=Object(E.a)(t,2),a=n[0],o=n[1],s=Math.max(o.height,o.width),u=s>500?500/s:1;return r.a.createElement("div",{key:a},r.a.createElement("img",{alt:a,src:"".concat(null===o||void 0===o?void 0:o.url),onClick:i,height:"".concat(Math.floor(o.height*u),"px"),width:"".concat(Math.floor(o.width*u),"px"),onLoad:function(t){return n=Math.floor(o.height*u)+5,a=Math.floor(o.width*u)+5,void e.typeAPI.resize(e.id,{width:a,height:n});var n,a}}),c&&r.a.createElement(Ee.a,{mainSrc:"".concat(null===o||void 0===o?void 0:o.url),onCloseRequest:l}))})))}))),ye=n(159),ke=r.a.memo((function(e){return r.a.createElement("div",null,void 0===e.content.text?Object.entries(e.content).map((function(e,t){var n;return r.a.createElement("div",{key:e[0]},"File Name :",r.a.createElement("a",{href:null===(n=e[1])||void 0===n?void 0:n.url,target:"_blank"},e[0].split(">")[0]))})):null)})),xe=r.a.memo((function(e){return r.a.createElement("div",null,void 0===e.content.text?Object.entries(e.content).map((function(t,n){var a;return r.a.createElement("div",{key:t[0]},"File Name : ",t[0].split(">")[0],r.a.createElement(ge.a,{controls:!0,url:null===(a=t[1])||void 0===a?void 0:a.url,width:e.size.width,height:e.size.height}))})):null)})),we=n(261),Ce=(n(430),r.a.memo((function(e){return r.a.createElement("div",null,void 0===e.content.text?Object.entries(e.content).map((function(e,t){var n;return r.a.createElement("div",{key:e[0]},"File Name : ",e[0].split(">")[0],r.a.createElement(we.a,{src:null===(n=e[1])||void 0===n?void 0:n.url,showDownloadProgress:"false",preload:"metadata"}))})):null)}))),Ie=r.a.memo((function(e){var t;return r.a.createElement(r.a.Fragment,null,(null===(t=e.content)||void 0===t?void 0:t.url)?r.a.createElement("div",null,r.a.createElement(ye.ReactTinyLink,{cardSize:"small",showGraphic:!0,maxLine:2,minLine:1,url:e.content.url})):null)})),Ue=n(255),Ae=n.n(Ue);var De=r.a.memo((function(e){var t,n;return console.log("Searchable Text ",e.content.searchable_text),r.a.createElement("div",{className:"text-node",style:{overflowX:"hidden",overflowY:"auto",width:"100%",height:"100%"}},r.a.createElement(D,{onChange:function(t){return n=t,e.typeAPI.changeContent(e.id,{text:n.target.value});var n},onSave:function(){return e.typeAPI.saveContent(e.id,{text:e.content.text})},text:e.content.text,lwidth:"100px",disabled:e.isLocked,search:null===(t=e.highlightText)||void 0===t?void 0:t.text}),r.a.createElement(Ae.a,{search:null===(n=e.highlightText)||void 0===n?void 0:n.text},e.content.text))})),Se=n(262);n(438);var Ne=r.a.memo((function(e){var t={text:{height:200,width:280},todo:{height:300,width:230},file:{height:100,width:280},image:{height:250,width:350},VideoFile:{height:200,width:350},VideoLink:{height:250,width:350},pdf:{height:208,width:300},audio:{height:142,width:300},link:{height:157,width:340}},n=Object(a.useRef)(null),c=Object(a.useState)(!1),o=Object(E.a)(c,2),i=o[0],l=o[1],s=function(n){var a=n[0],r=null,c=null,o=null,i=function(e){var t=["image","video","audio","pdf"],n="file",a=e.split("/");console.log(a,a.length);for(var r=a.length-1;r>=0;r--)-1!==t.indexOf(a[r])&&(n=a[r]);return console.log(e,n),"video"===n?"VideoFile":n}(null===a||void 0===a?void 0:a.type);if("image"===i){var s=new FileReader;s.readAsDataURL(a),s.onload=function(e){var t=new Image;t.src=e.target.result,t.onload=function(){var e=this.height,t=this.width;r=e,c=t,o=e/t,console.log("Uploaded image has valid Height and Width.",e,t)}}}console.log("FILE",a);var u=e.id+"/"+a.name.split(".")[0]+">"+a.lastModified+"/",d={contentType:a.type};e.typeAPI.requestUpload(u,a,d,(function(n){"number"===typeof n?l(n):e.typeAPI.requestDownload(u,(function(n,a){var l;e.typeAPI.changeType(e.id,i,t[i]),e.typeAPI.saveContent(e.id,(l={},Object(v.a)(l,a.name,{url:n,metadata:a,height:r,width:c,aspectRatio:o}),Object(v.a)(l,"text",null),l))}))}))},u=Object(a.useCallback)((function(e){s(e)}),[]),d=Object(Se.a)({onDrop:u}),m=d.getRootProps,h=d.getInputProps,p=d.isDragActive;return i&&he.a.to("#uploadfiller".concat(e.id),{height:i+"%"}),console.log("hello my name is dev sethsjdalksad",i),console.log(i),i?r.a.createElement("div",{style:{position:"relative",height:"100%",width:"100%",display:"flex",flexFlow:"column nowrap",justifyContent:"flex-end"}},r.a.createElement("div",{id:"uploadfiller".concat(e.id),style:{width:"100%",height:0,backgroundColor:"lavenderblush"}}),r.a.createElement("div",{style:{position:"absolute",top:"50%"}}," Uploading ")):r.a.createElement("div",null,r.a.createElement(U,{handleClick:function(){return e.typeAPI.changeType(e.id,"text",t.text)}},"Text"),r.a.createElement(U,{handleClick:function(){return e.typeAPI.changeType(e.id,"todo",t.todo)}},"Todo"),r.a.createElement(U,{handleClick:function(){return n.current.click()}},"Upload"),r.a.createElement("input",{type:"file",onChange:function(e){return s(e.target.files)},ref:n,style:{display:"none"}}),r.a.createElement("div",m(),r.a.createElement("input",h()),p?r.a.createElement("p",null,"Drop the file here ..."):r.a.createElement("p",null,"Drag and Drop a file, or Browse")),r.a.createElement(D,{onChange:function(t){return function(t){e.typeAPI.changeContent(e.id,{text:t.target.value})}(t)},onSave:function(){var n=function(e){if(function(e){try{new URL(e)}catch(t){return!1}return!0}(e)){var t="link";return ge.a.canPlay(e)&&(t="VideoLink"),console.log("Detector Extention Type After Loop",t),t}return"NoLink"}(e.content.text);"NoLink"===n?e.typeAPI.saveContent(e.id,{text:e.content.text}):(e.typeAPI.changeType(e.id,n,t[n]),e.typeAPI.saveContent(e.id,{url:e.content.text}))},placeholder:"Paste a link here..."}))}));var Pe=r.a.memo((function(e){var t=["great","nice","awesome","crazy","special"];return r.a.createElement("div",{className:"todo-item",id:e.itemID},r.a.createElement("label",{className:"checkbox"},r.a.createElement("input",{type:"checkbox",checked:e.checked,onChange:function(t){return e.onCheckToggle(t.target.checked)}}),r.a.createElement("span",null)),r.a.createElement(D,{placeholder:"do something "+t[e.order%t.length],text:e.text,widthOffset:60,onChange:function(t){return e.onTextChange(t.target.value)},onSave:function(t){return e.onTextSave(t.target.value)},margin:"0px 0px 0px 10px",strikethrough:e.checked,color:e.checked?"grey":"black",disabled:e.isLocked}),r.a.createElement(U,{handleClick:e.onDelete,isLocked:e.isLocked},"x"))})),Le=r.a.memo((function(e){var t=function(t,n,a){e.typeAPI.saveContent(e.id,Object(j.a)(Object(j.a)({},e.content),{},{items:Object(j.a)(Object(j.a)({},e.content.items),{},Object(v.a)({},t,Object(j.a)(Object(j.a)({},e.content.items[t]),{},Object(v.a)({},n,a))))}))};return r.a.createElement("div",{className:"todo-card",style:{overflowX:"hidden",overflowY:"auto",width:"100%",height:"100%"}},r.a.createElement("div",{className:"heading"},r.a.createElement(D,{placeholder:"TODO title",text:e.content.title,onChange:function(t){return e.typeAPI.changeContent(e.id,Object(j.a)(Object(j.a)({},e.content),{},{title:t.target.value}))},onSave:function(t){return e.typeAPI.saveContent(e.id,Object(j.a)(Object(j.a)({},e.content),{},{title:t.target.value}))},margin:"7px 0px 0px 0px",bold:!0,sticky:!0,disabled:e.isLocked}),r.a.createElement("hr",{style:{marginTop:"0px",marginBottom:"7px"}})),r.a.createElement(U,{className:"custom_btn",isLocked:e.isLocked,handleClick:function(){e.typeAPI.saveContent(e.id,Object(j.a)(Object(j.a)({},e.content),{},{lastOrder:e.content.lastOrder+1,items:Object(j.a)(Object(j.a)({},e.content.items),{},Object(v.a)({},"todoitem"+(e.content.lastOrder+1),{checked:!1,text:"",order:e.content.lastOrder+1}))}))}},"+ add new"),r.a.createElement("div",{className:"todo-item-list",style:{overflowX:"hidden",overflowY:"auto"}},e.content.items?Object.entries(e.content.items).filter((function(e){var t=Object(E.a)(e,2),n=t[0];t[1];return"root"!==n})).sort((function(e,t){var n=Object(E.a)(e,2),a=(n[0],n[1]),r=Object(E.a)(t,2);r[0];return r[1].order-a.order})).map((function(n){var a=Object(E.a)(n,2),c=a[0],o=a[1];return r.a.createElement(Pe,{key:c,itemID:c,text:o.text,checked:o.checked,order:o.order,onCheckToggle:function(e){return t(c,"checked",e)},onTextChange:function(t){return n=c,a="text",r=t,void e.typeAPI.changeContent(e.id,Object(j.a)(Object(j.a)({},e.content),{},{items:Object(j.a)(Object(j.a)({},e.content.items),{},Object(v.a)({},n,Object(j.a)(Object(j.a)({},e.content.items[n]),{},Object(v.a)({},a,r))))}));var n,a,r},onTextSave:function(e){return t(c,"text",e)},onDelete:function(){return t=c,void e.typeAPI.saveContent(e.id,Object(j.a)(Object(j.a)({},e.content),{},{items:Object(j.a)(Object(j.a)({},e.content.items),{},Object(v.a)({},t,null))}));var t},isLocked:e.isLocked})})):null))}));n(439);he.a.registerPlugin(pe.a);var Te=r.a.memo((function(e){var t,n=Object(a.useState)(!1),c=Object(E.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)(!1),s=Object(E.a)(l,2),u=s[0],d=s[1],m=function(e){switch(e){case"blank":return Ne;case"text":return De;case"todo":return Le;case"VideoLink":return be;case"video":case"VideoFile":return xe;case"image":return Oe;case"audio":return Ce;case"link":return Ie;case"pdf":return je;case"file":return ke;default:return Ne}}(null===(t=e.card)||void 0===t?void 0:t.type,e.isLocked),h=Object(a.useRef)(null),p=Object(a.useState)(!1),f=Object(E.a)(p,2),g=f[0],b=f[1],v=Object(a.useState)(),O=Object(E.a)(v,2),y=O[0],k=O[1];return Object(a.useEffect)((function(){var t;(null===(t=e.result)||void 0===t?void 0:t.length)>0?Object.entries(e.result).map((function(t){var n=Object(E.a)(t,2),a=(n[0],n[1]),r=a.terms[0];if(a.id===e.id)switch(b(!0),a.match[r][0]){case"title":k({title:r});break;case"content.url":break;case"fileName":k({fileName:r});break;default:k({text:r})}})):b(!1)}),[e]),Object(a.useEffect)((function(){he.a.set("#".concat(e.id),Object(j.a)({},e.card.size))}),[e.card.size.height,e.card.size.width]),Object(a.useEffect)((function(){he.a.set("#".concat(e.id),Object(j.a)(Object(j.a)({opacity:1},e.card.position),{},{boxShadow:"0px 0px 0px 0px white"}))}),[e.id,e.card.position]),Object(a.useEffect)((function(){var t=pe.a.create("#".concat(e.id),{autoScroll:1,trigger:"#".concat(e.id),dragClickables:!o,onClick:function(){h.current.focus(),i(!0),e.genericAPI.isActiveUserInfo()},onDragStart:function(){d(!0),he.a.to("#".concat(e.id),{boxShadow:"0 11px 15px -7px rgba(51, 61, 78, 0.2), 0 9px 46px 8px rgba(51, 61, 78, 0.12), 0 24px 38px 3px rgba(51, 61, 78, 0.14)",duration:.5})},onDrag:function(){console.log("now that was a drag")},onDragEnd:function(){d(!1),he.a.to("#".concat(e.id),{boxShadow:"none",duration:.5}),e.genericAPI.savePosition(e.id,{x:this.x,y:this.y})},cursor:"grab",activeCursor:"grabbing"});return function(){return t[0].kill()}}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:e.id,tabIndex:0,className:(o?"generic-card active-card":"generic-card")+(u?" dragging-card":"")+(g?" searched-card":""),ref:h,onFocus:function(){return i(!0)},onBlur:function(){console.log("called blur"),i(!1),e.genericAPI.removeActiveUser()},onKeyDown:function(t){console.log("pressed ",t.key),"Delete"===t.key&&e.genericAPI.removeCard(e.id,"recursive")},style:{position:"absolute",opacity:0}},e.userListDetail&&o?Object.entries(e.userListDetail).filter((function(e){var t=Object(E.a)(e,2);t[0];return t[1].isEditingUser})).map((function(e){var t=Object(E.a)(e,2),n=(t[0],t[1]);return r.a.createElement("img",{alt:"user",src:n.photoURL,className:"generic-card-text-profile-pic"})})):null,r.a.createElement("div",{style:{width:"100%",height:e.card.size.height,position:"absolute",top:0,boxShadow:"0 1px 2px 0 rgba(51,61,78,0.25)"}},r.a.createElement(m,{typeAPI:e.typeAPI,content:e.card.content,highlightText:y,size:e.card.size,id:e.id,isLocked:e.isLocked}))))})),ze=n(257);function Fe(e){return Object(a.useEffect)((function(){ze.a.to("#cursor".concat(e.id),{left:e.x,top:e.y-0,duration:.2}).play()}),[e.x,e.y,e.id]),r.a.createElement("div",{id:"cursor".concat(e.id),style:{position:"absolute",height:45,display:"flex",flexFlow:"column nowrap",justifyContent:"space-between",alignItems:"flex-start",overflow:"visible",zIndex:9999999999}},r.a.createElement("img",{alt:"cursor",src:n(440),style:{userSelect:"none",maxWidth:"25px",maxHeight:"25px"}}),r.a.createElement("div",{style:{marginLeft:10,paddingLeft:5,paddingRight:5,paddingBottom:2,paddingTop:2,backgroundColor:"darkorange",color:"white",fontSize:13,fontFamily:"sans-serif"}},e.name))}he.a.registerPlugin(pe.a);var Re=r.a.memo((function(e){var t,n=Object(a.useState)(!1),c=Object(E.a)(n,2),o=c[0],i=c[1];function l(e,t,n,a){var r=.1*Math.abs(n-e),c=e-r,o=n+r;return"M".concat(e," ").concat(t," C ").concat(c," ").concat(t," ").concat(o," ").concat(a," ").concat(n," ").concat(a)}return Object(a.useEffect)((function(){var t=pe.a.create("#nub".concat(e.id),{type:"top,left",activeCursor:"grab",onDragStart:function(){he.a.set("#nub".concat(e.id),{top:e.tail.y,left:e.tail.x}),t[0].update()},onDrag:function(){i({x:this.x,y:this.y})},onDragEnd:function(){e.hits.forEach((function(n){t[0].hitTest("#".concat(n))&&(console.log("i hit",n),e.arrowAPI.reparentCard(e.id,n))})),t[0].update(),i(!1)}});return function(){console.log("about to kill a draggable"),t[0].kill()}}),[e.hits]),t=o?l(o.x,o.y,e.tail.x,e.tail.y):l(e.head.x,e.head.y,e.tail.x,e.tail.y-5),r.a.createElement("div",{style:{position:"absolute",height:0,width:0,top:0,left:0,overflow:"visible",zIndex:-1}},r.a.createElement("svg",{style:{position:"absolute",width:0,height:0,overflow:"visible"}},r.a.createElement("path",{strokeWidth:"3",fill:"none",stroke:"#ff8577",d:t})),r.a.createElement("svg",{style:{position:"absolute",overflow:"visible",width:0,height:0}},r.a.createElement("circle",{style:{position:"absolute"},id:"nub".concat(e.id),cx:o?o.x:e.tail.x,cy:o?o.y:e.tail.y,r:"5",stroke:"black",strokeWidth:"2px",fill:"#0fa958"})))})),_e=n(107);n(441);var Me=r.a.memo((function(e){var t=Object(a.useState)(1),n=Object(E.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(),l=Object(E.a)(i,2),s=l[0],u=l[1],d=Date.now();return r.a.createElement("div",{className:"card-container",style:{overflow:"scroll",position:"absolute",zIndex:1,width:"100vw"}},Object.keys(e.cards).length>1?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"zoom-slider",style:{position:"fixed",top:"60px",left:"10px",zIndex:9999999999},type:"range",min:"0.5",max:"2.5",defaultValue:"1",step:"0.0001",onChange:function(e){return o(e.target.value)}}),r.a.createElement("div",{style:{position:"fixed",top:"60px",left:"10px",zIndex:9999999999}},r.a.createElement(D,{onFocus:function(e){console.log(e.target.select()),e.target.select()},borderColor:"black",onChange:function(t){return function(t){var n=e.containerAPI.searchElement(t);u(n)}(t.target.value)}}))):null,r.a.createElement("div",{className:"container-filler",style:Object(j.a)(Object(j.a)({},e.container),{},{position:"absolute",zIndex:9999999,top:0,left:0,transformOrigin:"0% 0%",transform:"scale(".concat(c,")")}),onDoubleClick:function(t){if(t.target.offsetParent&&"card-container"===t.target.offsetParent.className&&!e.isLocked){var n=Math.floor(t.clientX/c+t.target.offsetParent.scrollLeft),a=Math.floor(t.clientY/c+t.target.offsetParent.scrollTop-60);console.log("double click at",n,",",a),e.genericAPI.addChild({x:n,y:a},{width:310,height:200})}else console.log("registered a double click on a card and did absolutely nothing about it")},onMouseMove:function(t){console.log("triggered mouse move"),t.persist(),function(t){if(e.lastActive&&null!=t.target.offsetParent){Object.entries(e.lastActive).map((function(t){var n=Object(E.a)(t,2),a=n[0],r=n[1];a!==e.currentUser().uid&&d-Number(r)<6e4&&!0})),e.containerAPI.saveCursorPosition(t.clientX+t.target.offsetParent.scrollLeft,t.clientY+t.target.offsetParent.scrollTop)}}(t)}},e.cards?Object.entries(e.cards).filter((function(e){var t=Object(E.a)(e,2),n=t[0];t[1];return n&&"root"!==n})).map((function(t){var n=Object(E.a)(t,2),a=n[0],c=n[1];return r.a.createElement("div",{key:"wrapperdiv".concat(a)},r.a.createElement(_e.b,{id:"contextmenu".concat(a)},e.isLocked&&"blank"===(null===c||void 0===c?void 0:c.type)?null:r.a.createElement(Te,{key:a,id:a,card:c,genericAPI:e.genericAPI,typeAPI:e.typeAPI,isLocked:e.isLocked,currentUser:e.currentUser,activeUser:e.activeUser,result:s,userListDetail:e.userListDetail})),r.a.createElement(_e.a,{id:"contextmenu".concat(a),className:"card-context-menu"},r.a.createElement(_e.c,{onClick:function(){return e.isLocked?null:e.genericAPI.addChild({x:c.position.x+100,y:c.position.y+100},{width:c.size.width,height:c.size.height},a,"blank")}},"add child"),r.a.createElement(_e.c,{onClick:function(){return e.isLocked?null:e.genericAPI.removeCard(a,"recursive",c.parent)}},"delete")),c.parent&&"root"!==c.parent&&r.a.createElement(Re,{key:"arrow".concat(a),id:"".concat(a),arrowAPI:e.arrowAPI,hits:Object.keys(e.cards),head:{x:e.cards[c.parent].position.x+e.cards[c.parent].size.width/2,y:e.cards[c.parent].position.y+e.cards[c.parent].size.height/2},tail:{x:c.position.x+c.size.width/2,y:c.position.y-5}}))})):r.a.createElement("p",null,"Double Click to Add a Card"),e.cursors&&e.lastActive?Object.entries(e.cursors).filter((function(t){var n=Object(E.a)(t,2),a=n[0];n[1];return a!==e.currentUser().uid&&d-Number(e.lastActive["".concat(a)])<6e4})).map((function(t){var n=Object(E.a)(t,2),a=n[0],o=n[1];return r.a.createElement(Fe,{key:a,id:a,name:e.userListDetail[a].name,x:o.x/c,y:o.y/c,projectID:e.projectID})})):null))})),Ve=n(163),Be=n.n(Ve),Ye=function(e,t){var n={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},a={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},r={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},c={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},o={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},i={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},l={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},s={type:e,size:t,content:{text:""}},u={type:e,size:t,content:{text:"This is a ".concat(e," Card")}},d={type:e,size:t,content:{title:"",lastOrder:0,items:{root:1}}};switch(e){case"text":return s;case"todo":return d;case"VideoLink":return a;case"VideoFile":return l;case"image":return i;case"audio":return n;case"link":return o;case"pdf":return r;case"file":return c;default:return u}};function We(e){var t=Object(a.useState)(!1),n=Object(E.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)({width:600,height:800}),s=Object(E.a)(i,2),u=s[0],d=s[1],m=Object(a.useRef)({});m.current=u;var h=Object(a.useState)(),p=Object(E.a)(h,2),f=p[0],g=p[1],b=Object(a.useState)({}),O=Object(E.a)(b,2),y=O[0],C=O[1],I=Object(a.useState)(!0),A=Object(E.a)(I,2),D=A[0],S=A[1],N=Object(a.useState)(e.isOwner),P=Object(E.a)(N,2),T=(P[0],P[1]),z=Object(a.useState)(!e.isOwner),F=Object(E.a)(z,2),R=(F[0],F[1]),_=Object(a.useState)(e.permission),M=Object(E.a)(_,2),V=M[0],B=M[1],Y=Object(a.useState)(),W=Object(E.a)(Y,2),H=(W[0],W[1]),q=Object(a.useState)({}),$=Object(E.a)(q,2),G=$[0],K=($[1],Object(a.useState)()),X=Object(E.a)(K,2),J=X[0],Z=X[1],Q=Object(a.useState)(),ee=Object(E.a)(Q,2),te=ee[0],ne=ee[1],re=!0;"rw"===e.permission&&(re=!1);var ce=Object(a.useState)(re),oe=Object(E.a)(ce,2),ie=oe[0],le=oe[1],se=k.ref("documents/"+e.projectID+"/nodes"),ue=Object(l.h)(),de=Object(l.g)(),me=e.currentUser().uid;Object(a.useEffect)((function(){var t=e.currentUser().uid,n=k.ref("documents/"+e.projectID+"/"),a=k.ref("users/".concat(e.currentUser().uid,"/projects/"));return n.child("lastActive").on("value",(function(e){console.log("Last Active of Project is Changed Recieved Payload",e.key,e.val()),ne(e.val())})),n.child("users").on("value",(function(e){console.log("Users List Details Triggered recieved payload",e.val()),Z(e.val())})),n.child("nodes").on("child_added",(function(e){console.log("synced new card added for",e.key),C((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(v.a)({},e.key,e.val()))}))})),n.child("nodes").on("child_removed",(function(e){console.log("synced card deleted for",e.key),C((function(t){var n=Object(j.a)({},t);return delete n[e.key],n}))})),n.child("nodes").on("child_changed",(function(e){console.log("synced card change for",e.key),C((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(v.a)({},e.key,e.val()))}))})),n.child("container").on("value",(function(e){console.log("triggered container size listener, received payload",e.val()),d(e.val())})),n.child("cursors").on("value",(function(e){console.log("cursors Details Triggered recieved payload",e.val(),f),g(e.val())})),n.child("/users/".concat(e.currentUser().uid,"/")).on("child_changed",(function(e){"permission"===e.key&&(console.log("Changed  In Permission :- ",e.val()),B(e.val()))})),a.on("child_removed",(function(t){t.key===e.projectID?(console.log("This Child is removed ",e.projectID),S(!1)):t.child(e.projectID).hasChild("shared")?(console.log("This Project is Shared"),R(!1),T(!0)):(S(!0),T(!1),R(!0))})),a.child(e.projectID).child("shared").on("child_changed",(function(e){console.log("Type of Project Shared is Changed Recieved Payload",e.child("type").val()),H(e.child("type").val())})),a.child(e.projectID).on("child_changed",(function(e){console.log(e.key," Is Changed under user tree"),"isLocked"===e.key&&le(e.val())})),n.child("users/"+t).on("child_changed",(function(t){"lastUpdatedAt"===t.key&&a.child(e.projectID).update({createdAt:t.val()}).then(console.log("Updated Time to User Tree")).catch((function(e){return e}))})),o(!0),function(){n.child("users").off("value"),n.child("nodes").off("child_added"),n.child("nodes").off("child_removed"),n.child("nodes").off("child_changed"),n.child("center").off("value"),n.child("container").off("value"),n.child("cursors").off("value"),n.child("/users/".concat(t,"/")).off("child_changed"),a.off("child_removed"),a.child(e.projectID).child("shared").off("child_changed"),a.child(e.projectID).off("child_changed"),n.child("lastActive").off("value"),n.child("users/"+t).off("child_changed")}}),[]);var he=function(e,t){C(Object(j.a)(Object(j.a)({},y),{},Object(v.a)({},e,Object(j.a)(Object(j.a)({},y[e]),{},{size:t})))),se.child(e).child("size").set(t).then(console.log("set new size for",e,"to",t))},pe=function(t,n){var a={};a["documents/"+e.projectID+"/users/"+me+"/lastUpdatedAt"]=x,a["documents/"+e.projectID+"/nodes/"+t+"/content/"]=n,k.ref().update(a).then(console.log("saved new content for",t)).catch((function(e){return console.log("Save COntent Error \n",n,"\n saveContent",e)}))},fe=Object(a.useCallback)(Be()(pe,3e3),[]),ge=function(e,t){if(console.log("reparent requested for",e,"newparent",t),function t(n){return"root"===n||n!==e&&t(y[n].parent)}(t)){var n={},a=y[e].parent;return n[e+"/parent"]=t,n[a+"/children/"+e]=null,n[t+"/children/"+e]=1,void se.update(n).then(console.log("successfully changed the parent of",e,"from",a,"to",t)).catch((function(e){return console.log("error reparenting because",e)}))}console.log("didn't reparent because it was not a valid request")},be=function(){de.push("/dashboard",{from:ue})},ve={savePosition:function(t,n){var a={},r=k.ref("documents/"+e.projectID);n.x>m.current.width&&(console.log("x",n.x,"was greater than width",m.current),a["container/width"]=n.x+300),n.y>m.current.height&&(console.log("y",n.y,"was greater than height",u.current),a["container/height"]=n.y+300),a["nodes/"+t+"/position/"]=n,r.update(a).then(console.log("set new position for",t,"to",n))},changePosition:function(e,t){C(Object(j.a)(Object(j.a)({},y),{},Object(v.a)({},e,Object(j.a)(Object(j.a)({},y[e]),{},{position:t}))))},reparentCard:ge,removeCard:function(t,n,a){var r={};r[t]=null,r[y[t].parent+"/children/"+t]=null;switch(n){case"recursive":y[t].children&&function(e){for(;e.length>0;){var t=e.pop();r[t]=null,y[t].children&&e.concat(Object.keys(y[t].children))}}(Object.keys(y[t].children));break;case"reparent":Object.keys(y[t].children).forEach((function(e){return r[e+"/parent"]=a}))}var c=["link","blank","VideoLink","text"];if(console.log("Type Of Card ",y[t].type,"\n Exists Storage Types ",!c.includes(y[t].type,0)),c.includes(y[t].type,0))console.log("Its a NOn Storage Card");else{var o="root/"+e.projectID+"/"+t+"/";!function(e){var t=w().ref(e);t.listAll().then((function(e){e.items.length>0?e.items.forEach((function(e){var n,a;n=t.fullPath,a=e.name,w().ref(n).child(a).delete().then(console.log("File Deleted")).catch((function(e){return console.log("Error in Delete File",e)}))})):console.log("No Files Exist")})).catch((function(e){console.log("Error in List All",e)}))}(o)}se.update(r).then(console.log("deleted",t,"successfully")),k.ref().update(Object(v.a)({},"documents/"+e.projectID+"/users/"+me+"/lastUpdatedAt",x)).then(console.log("Updated LastUpdated At")).catch((function(e){return e}))},addChild:function(t,n,a,r){var c,o=a||"root",i=r||"blank",l={type:i,size:n,position:t,content:{text:"This is a ".concat(i," Card")},parent:o},s=se.push().key,u={};u[o+"/children/"+s]=1,u[s]=l,se.update(u).then(console.log("Added a new child",s,"under",o)),k.ref().update(Object(v.a)({},"documents/"+e.projectID+"/users/"+me+"/lastUpdatedAt",x)).then(console.log("Updated LastUpdated At")).catch((function(e){return e})),C(Object(j.a)(Object(j.a)({},y),{},(c={},Object(v.a)(c,s,l),Object(v.a)(c,o,Object(j.a)(Object(j.a)({},y[o]),{},{children:Object(j.a)(Object(j.a)({},y[o].children),{},Object(v.a)({},s,1))})),c)))},resize:he,isActiveUserInfo:function(){k.ref("documents/".concat(e.projectID,"/users/").concat(me,"/")).update({isEditingUser:!0,lastUpdatedAt:x}).then(console.log("UPDated Active user")).catch((function(e){return console.log("isActiveUserInfo",e)}))},removeActiveUser:function(){console.log("Remove Active User Called");var t={};t["documents/".concat(e.projectID,"/users/").concat(me,"/isEditingUser")]=null,k.ref().update(t).then(console.log("Removed Active user")).catch((function(e){return console.log("isActiveUserInfo",e)}))}},je={saveContent:pe,changeContent:function(e,t){console.log("triggered local content change on",e),C(Object(j.a)(Object(j.a)({},y),{},Object(v.a)({},e,Object(j.a)(Object(j.a)({},y[e]),{},{content:t})))),fe(e,t)},requestUpload:function(t,n,a,r){var c=Object(j.a)(Object(j.a)({},a),{},{customMetadata:Object(v.a)({},e.currentUser().uid,e.permission)});console.log("metadata sent was",c);var o="root/"+e.projectID+"/"+t,i=w().ref(o).put(n,c),l=i.on(w.TaskEvent.STATE_CHANGED,(function(e){return r(e.bytesTransferred/e.totalBytes*100,i)}),null,(function(){console.log(),r("complete"),l()}))},requestDownload:function(t,n){var a="root/"+e.projectID+"/"+t,r=w().ref(a);r.getDownloadURL().then((function(e){r.getMetadata().then((function(t){return n(e,JSON.parse(JSON.stringify(t)))})).catch((function(e){return console.log("failed to fetch metadata for",a,"because",e)}))})).catch((function(e){return console.log("failed to fetch download URL for",a,"because",e)}))},changeType:function(t,n,a){var r=Ye(n,a);C(Object(j.a)(Object(j.a)({},y),{},Object(v.a)({},t,Object(j.a)(Object(j.a)({},y[t]),{},{type:r.type,size:r.size,content:r.content}))));var c={};c[t+"/type"]=r.type,c[t+"/size"]=r.size,c[t+"/content"]=r.content,se.update(c).then(console.log("Set new type for",t,"to \n",r)).catch((function(e){return e})),k.ref().update(Object(v.a)({},"documents/"+e.projectID+"/users/"+me+"/lastUpdatedAt",x)).then(console.log("Updated LastUpdated At")).catch((function(e){return e}))},resize:he},Ee={reparentCard:ge},Oe={saveCursorPosition:Object(a.useCallback)(Be()((function(t,n){if(f){var a={};a["documents/".concat(e.projectID,"/cursors/").concat(me,"/x")]=t,a["documents/".concat(e.projectID,"/cursors/").concat(me,"/y")]=n,a["documents/".concat(e.projectID,"/lastActive/").concat(me,"/")]=x,k.ref().update(a).then(console.log("Updated Cursor Position to DB")).catch((function(e){return console.log("SaveCursor Position",e)}))}}),100),[f]),searchElement:function(e){return function(e,t,n){var a=[],r=new ae.a({fields:n,extractField:function(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}});Object.entries(t).map((function(e){var t=Object(E.a)(e,2),n=t[0],r=t[1];if("root"!=n)switch(r.type){case"text":a.push({id:n,content:r.content});break;case"todo":a.push({id:n,title:r.content.title}),Object.entries(r.content.items).map((function(e){var t=Object(E.a)(e,2),r=t[0],c=t[1];"root"!=r&&a.push({id:n,content:c,subID:r})}));break;case"link":a.push({id:n,content:r.content});break;case"pdf":Object.entries(r.content).map((function(e){var t,r=Object(E.a)(e,2),c=Object(E.a)(r[0],2),o=c[0],i=c[1],l=r[1];console.log("SUBKEY SUBVALUES ",o,i,l),a.push({id:n,fileName:null===(t=l.metadata)||void 0===t?void 0:t.name.split(">")[0]})}));break;case"audio":Object.entries(r.content).map((function(e){var t,r=Object(E.a)(e,2),c=Object(E.a)(r[0],2),o=(c[0],c[1],r[1]);a.push({id:n,fileName:null===(t=o.metadata)||void 0===t?void 0:t.name.split(">")[0]})}));break;case"VideoFile":Object.entries(r.content).map((function(e){var t,r=Object(E.a)(e,2),c=Object(E.a)(r[0],2),o=(c[0],c[1],r[1]);a.push({id:n,fileName:null===(t=o.metadata)||void 0===t?void 0:t.name.split(">")[0]})}));break;case"file":Object.entries(r.content).map((function(e){var t,r=Object(E.a)(e,2),c=Object(E.a)(r[0],2),o=(c[0],c[1],r[1]);a.push({id:n,fileName:null===(t=o.metadata)||void 0===t?void 0:t.name.split(">")[0]})}));break;case"VideoLink":Object.entries(r.content).map((function(e){var t,r=Object(E.a)(e,2),c=Object(E.a)(r[0],2),o=(c[0],c[1],r[1]);a.push({id:n,fileName:null===(t=o.metadata)||void 0===t?void 0:t.name.split(">")[0]})}));break;case"blank":a.push({id:n,content:r.content});break;default:a.push({id:n,content:r})}})),a.length>0&&r.addAll(a);var c=r.search(e,{fuzzy:.2});return console.log("THE SEARCH ELEMENTS ",c,e,a),c}(e,y,["content.text","fileName","title","content.url"])}};return r.a.createElement(r.a.Fragment,null,c?D?r.a.createElement(Me,{container:u,cards:y,genericAPI:ve,typeAPI:je,arrowAPI:Ee,permission:V,currentUser:e.currentUser,containerAPI:Oe,cursors:f,projectID:e.projectID,isOwner:e.isOwner,isLocked:ie,activeUser:G,userListDetail:J,lastActive:te}):r.a.createElement("div",null,r.a.createElement(L.a,{show:!D,onHide:be},r.a.createElement(L.a.Header,{closeButton:!0},r.a.createElement(L.a.Title,null,"Oops"),r.a.createElement(L.a.Body,null,"The owner has unceremoniously kicked you off this project. You no longer have access to this project."),r.a.createElement(L.a.Footer,null,r.a.createElement(U,{className:"custom_btn",handleClick:be},"Close"))))):r.a.createElement("div",null,"Loading..."))}var He=n(106),qe=function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r){var c,o,i,l,s,u,d,m;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null===(c=Object(He.auth)().currentUser)||void 0===c?void 0:c.uid,i="documents/".concat(t,"/users/"),void 0==n){e.next=14;break}return console.log("Permission in Search Child",n),e.next=6,$e(i,t,n,o);case 6:return l=e.sent,e.next=9,Ge(o,t,a,r,n);case 9:return s=e.sent,console.log("If User is Updated in User Tree ",s),e.abrupt("return",l);case 14:return e.next=16,k.ref("documents/".concat(t,"/")).once("value").then((function(e){return e.exists()})).catch((function(e){return console.log("isCHild Error \n",e)}));case 16:if(u=e.sent,console.log("isChildren",u),void 0==u||!u){e.next=30;break}return e.next=21,k.ref("users/"+o+"/projects/"+t+"/shared").once("value").then((function(e){return e.exists()})).catch((function(e){return console.log("iS Owner Error",e)}));case 21:return d=e.sent,k.ref("documents/".concat(t,"/users/").concat(o,"/")).update({lastUpdatedAt:x}).then(console.log("Updated LastUpdated Prop")).catch((function(e){return console.log("Update in LastUpdate Error \n",e)})),k.ref("users/"+o+"/projects/"+t).update({createdAt:x}).then(console.log("Updated cratedAt Prop")).catch((function(e){return console.log("Update in LastUpdate Error \n",e)})),e.next=26,k.ref(i).once("value").then((function(e){return e.hasChild(o)?e.child(o).val().permission:e.hasChild("public")?e.child("public").val().permission:null})).catch((function(e){return console.log("IschildinUsers Error \n",e)}));case 26:return m=e.sent,e.abrupt("return",[m,d]);case 30:return e.abrupt("return",[null,null]);case 31:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),$e=function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r){var c,o,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((c={})["documents/".concat(n,"/cursors/").concat(r)]={x:0,y:0},c["documents/".concat(n,"/lastActive/").concat(r)]={time:x},c[t+r]={name:Object(He.auth)().currentUser.displayName,photoURL:Object(He.auth)().currentUser.photoURL,email:Object(He.auth)().currentUser.email,permission:a,lastUpdatedAt:x},"r"!==a&&"rw"!==a){e.next=11;break}return o=C.httpsCallable("createNewProject"),i=o(c).then((function(e){return!0})).catch((function(e){return console.log(e)})),console.log("user Created",i),e.abrupt("return",i);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(b.a)(g.a.mark((function e(t,n,a,r,c){var o,i,l,s,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.ref("documents/"+n+"/metadata/").once("value").then((function(e){return console.log(e.val()),e.val()})).catch((function(e){return console.log("Updated In User Tree Error",e)}));case 2:return o=e.sent,i=!0,"rw"===c&&(i=!1),console.log("Project MEtadata \n",null===o||void 0===o?void 0:o.name),(l={})["users/"+t+"/projects/"+n+"/"]={access:c,name:null===o||void 0===o?void 0:o.name,thumbnailURL:null===o||void 0===o?void 0:o.thumbnailURL,isLocked:i,createdAt:x,shared:{name:r,type:a}},l["creator/"+n]=t,s=C.httpsCallable("createNewProject"),u=s(l).then((function(e){return!0})).catch((function(e){return console.log(e)})),console.log("user Created",u),e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Ke=qe;var Xe=function(){var e=["Pulling up your document","Aligning some planets","Calibrating the vibe","Preparing some pixels"];return r.a.createElement("div",{className:"loader-container"},r.a.createElement("img",{className:"loader-animation",src:n(448),height:"60%",alt:"Loading"}),r.a.createElement("div",{className:"loader-text"},e[Math.floor(Math.random()*e.length)],"..."))},Je=(n(449),Xe);function Ze(e){var t=Object(l.h)(),n=Object(l.g)(),c=Object(l.i)().projectID,o=Object(a.useState)(!1),i=Object(E.a)(o,2),s=i[0],u=i[1],d=Object(a.useState)(null),m=Object(E.a)(d,2),h=m[0],p=m[1],f=Object(a.useState)(),v=Object(E.a)(f,2),j=v[0],O=v[1];Object(a.useEffect)((function(){Object(b.a)(g.a.mark((function e(){var t,a,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(c);case 2:t=e.sent,a=Object(E.a)(t,2),r=a[0],o=a[1],console.log("Permission",r,o),setTimeout((function(){return u(!0)}),3500),null==r?n.push("/dashboard"):(p(r),O(o));case 9:case"end":return e.stop()}}),e)})))()}),[]);return s?r.a.createElement("div",null,r.a.createElement(de,{style:{position:"absolute",zIndex:0},onLogOut:function(){return e.signOut(),r.a.createElement(l.a,{to:{pathname:"/login",state:{from:t}}})},currentUser:e.currentUser,document:h,projectID:c,isOwner:j,documentName:e.documentName||"document name placeholder"}),null!=h?r.a.createElement(We,{projectID:c,currentUser:e.currentUser,permission:h,isOwner:j}):r.a.createElement("div",null)):r.a.createElement(Je,null)}var Qe={UI_CONFIG:{signInFlow:"popup",signInOptions:[y.GoogleAuthProvider.PROVIDER_ID,y.FacebookAuthProvider.PROVIDER_ID,y.EmailAuthProvider.PROVIDER_ID,y.PhoneAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){return!1}}}};var et=n(76);function tt(e){var t=Object(l.h)(),n=Object(l.g)(),a=Object(l.i)(),c=a.projectID,o=a.permissionID,i=a.typeID,s=a.nameID;function u(e,t,n){return e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n)}return r.a.useEffect((function(){Object(b.a)(g.a.mark((function e(){var a,r,l,d,m,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!=o&&(d=u(o,"$","/"),m=u(i,"$","/"),h=u(s,"$","/"),a=et.AES.decrypt(d,"grpthink12!").toString(et.enc.Utf8),r=et.AES.decrypt(m,"grpthink12!").toString(et.enc.Utf8),l=et.AES.decrypt(h,"grpthink12!").toString(et.enc.Utf8)),e.next=3,Ke(c,a,r,l);case 3:e.sent?n.push("/project/".concat(c,"/").concat(s)):n.push("/error",{from:t});case 5:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement("div",null,r.a.createElement(Je,null))}function nt(){var e=Object(l.h)();return r.a.createElement("div",null,"Invalid Link Enter :-",r.a.createElement("br",null),e.state.from.pathname)}var at=function(e){var t=e.path,n=e.children,a=e.isAuth,c=Object(h.a)(e,["path","children","isAuth"]);return console.log(t),r.a.createElement(l.b,Object.assign({},c,{render:function(e){var t=e.location;return a?n:r.a.createElement(l.a,{to:{pathname:"/login",state:{from:t}}})}}))};function rt(){var e=function(){var e=y,t=Qe.UI_CONFIG,n=Object(a.useState)({isSignedIn:!1,pendingAuth:!0,user:null}),r=Object(E.a)(n,2),c=r[0],o=r[1];return Object(a.useEffect)((function(){var e=y().onAuthStateChanged((function(e){o({user:e,pendingAuth:!1,isSignedIn:!!e})}));return function(){return e()}}),[]),{auth:e,uiConfig:t,authState:c}}(),t=e.auth,n=e.uiConfig,c=e.authState;return!c.pendingAuth&&r.a.createElement(i.a,null,r.a.createElement(l.d,null,r.a.createElement(at,{isAuth:c.isSignedIn,path:"/project/:projectID/:permissionID/:typeID/:nameID"},r.a.createElement(tt,null)),r.a.createElement(p,{isAuth:c.isSignedIn,path:"/project/:projectID"},r.a.createElement(Ze,{currentUser:function(){return t().currentUser},signOut:function(){return t().signOut()}})),r.a.createElement(l.b,{path:"/login"},r.a.createElement(m,{auth:t,uiConfig:n,authState:c})),r.a.createElement(p,{isAuth:c.isSignedIn,path:"/dashboard"},r.a.createElement(me,{currentUser:function(){return t().currentUser},signOut:function(){return t().signOut()}})),r.a.createElement(l.b,{path:"/error"},r.a.createElement(nt,null)),r.a.createElement(l.b,{path:"/"},r.a.createElement(s,{pendingAuth:c.pendingAuth,isAuth:c.isSignedIn}))))}var ct=r.a.createContext(),ot=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ct.Provider,{value:{appname:"groupthink"}},r.a.createElement(rt,null)))};n(472);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ot,null)),document.getElementById("root"))}},[[277,13,14]]]);