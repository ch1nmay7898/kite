import React from 'react';
import { resizeDimension } from '../DocumentCanvas/Cards/cardTypeUtils';
const DisplayCardMenu = ({ me, store }) => {
    if (me) {
        switch (me.type) {
            case 'text':
                return (<Toolbar store={store} />)
            case 'VideoLink':
                return (<LinksMenu me={me} store={store} id={store.currentActive} />)
            case 'link':
                return (<LinksMenu link me={me} store={store} id={store.currentActive} />)
            case 'image':
                return (<ImageMenu me={me} store={store} />)
            default:
                return null;
        }
    }
    return null;
}
const Toolbar = ({ store }) => {
    if (store.textareaRef) {
        return (
            <>
                <svg onClick={() => store.formatText('bold')} width="40" height="41" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.5796 13.9122H20.7276C22.1316 13.9122 23.1516 14.2302 23.7876 14.8662C24.4356 15.5022 24.7596 16.3062 24.7596 17.2782C24.7596 18.4782 24.2196 19.3422 23.1396 19.8702C23.8356 20.1222 24.3516 20.5182 24.6876 21.0582C25.0356 21.5862 25.2096 22.1622 25.2096 22.7862C25.2096 23.7942 24.8616 24.6702 24.1656 25.4142C23.4816 26.1462 22.4256 26.5122 20.9976 26.5122H15.5796V13.9122ZM20.4396 18.9882C21.1356 18.9882 21.6636 18.8502 22.0236 18.5742C22.3956 18.2982 22.5816 17.9202 22.5816 17.4402C22.5816 16.4202 21.9816 15.9102 20.7816 15.9102H17.7396V18.9882H20.4396ZM21.1236 24.5142C21.7956 24.5142 22.2756 24.3522 22.5636 24.0282C22.8636 23.6922 23.0136 23.2962 23.0136 22.8402C23.0136 21.6042 22.2096 20.9862 20.6016 20.9862H17.7396V24.5142H21.1236Z" fill="#413D45" />
                </svg>
                <svg onClick={() => store.formatText('italic')} width="40" height="41" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.3878 26.5122L21.6018 13.9122H23.1678L20.9538 26.5122H19.3878Z" fill="#413D45" />
                </svg>
                <svg onClick={() => store.formatText('underline')} width="40" height="41" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20.1537 26.7282C17.1417 26.7282 15.6357 25.0782 15.6357 21.7782V13.9122H17.2017V21.7782C17.2017 23.0622 17.4657 23.9622 17.9937 24.4782C18.5217 24.9942 19.2417 25.2522 20.1537 25.2522C21.0657 25.2522 21.7857 24.9942 22.3137 24.4782C22.8537 23.9622 23.1237 23.0622 23.1237 21.7782V13.9122H24.6897V21.7782C24.6897 25.0782 23.1777 26.7282 20.1537 26.7282Z" fill="#413D45" />
                    <path d="M13.9617 29.7162H26.3637V31.2282H13.9617V29.7162Z" fill="#413D45" />
                </svg>
                <svg onClick={() => store.formatText('head')} width="99" height="41" viewBox="0 0 99 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9.37658 26.5122V20.8962H3.63458V26.5122H1.76258V13.9122H3.63458V19.1322H9.37658V13.9122H11.2486V26.5122H9.37658ZM17.9451 26.7282C16.6611 26.7282 15.6411 26.3022 14.8851 25.4502C14.1411 24.5862 13.7691 23.4042 13.7691 21.9042C13.7691 20.4042 14.1471 19.2282 14.9031 18.3762C15.6591 17.5242 16.6731 17.0982 17.9451 17.0982C19.0971 17.0982 20.0451 17.4642 20.7891 18.1962C21.5331 18.9282 21.9051 19.9962 21.9051 21.4002C21.9051 21.9162 21.8811 22.3182 21.8331 22.6062H15.6411C15.6531 23.3382 15.8871 23.9322 16.3431 24.3882C16.8111 24.8442 17.3511 25.0722 17.9631 25.0722C18.7551 25.0722 19.3911 24.7602 19.8711 24.1362L21.0951 25.3962C20.3511 26.2842 19.3011 26.7282 17.9451 26.7282ZM15.6411 21.0942H20.0331C20.0211 20.3022 19.8111 19.7142 19.4031 19.3302C18.9951 18.9462 18.5091 18.7542 17.9451 18.7542C17.3091 18.7542 16.7751 18.9462 16.3431 19.3302C15.9231 19.7022 15.6891 20.2902 15.6411 21.0942ZM29.3189 26.5122V25.7202C28.6709 26.3922 27.8309 26.7282 26.7989 26.7282C25.8269 26.7282 25.0349 26.4642 24.4229 25.9362C23.8229 25.3962 23.5229 24.6342 23.5229 23.6502C23.5229 22.6542 23.8649 21.8982 24.5489 21.3822C25.2329 20.8662 26.0669 20.6082 27.0509 20.6082C27.9509 20.6082 28.7069 20.7882 29.3189 21.1482V20.6442C29.3189 19.9602 29.1629 19.4742 28.8509 19.1862C28.5389 18.8982 28.0409 18.7542 27.3569 18.7542C26.3489 18.7542 25.4729 19.0302 24.7289 19.5822L24.1709 18.0522C25.0949 17.4162 26.2409 17.0982 27.6089 17.0982C28.0649 17.0982 28.4729 17.1402 28.8329 17.2242C29.1929 17.2962 29.5589 17.4462 29.9309 17.6742C30.3029 17.8902 30.5909 18.2442 30.7949 18.7362C31.0109 19.2282 31.1189 19.8342 31.1189 20.5542V26.5122H29.3189ZM27.1409 25.0722C28.0049 25.0722 28.7309 24.7422 29.3189 24.0822V22.6782C28.7549 22.3782 28.1009 22.2282 27.3569 22.2282C26.7569 22.2282 26.2649 22.3482 25.8809 22.5882C25.5089 22.8162 25.3229 23.1702 25.3229 23.6502C25.3229 24.0942 25.4789 24.4422 25.7909 24.6942C26.1029 24.9462 26.5529 25.0722 27.1409 25.0722ZM37.009 26.7282C35.845 26.7282 34.915 26.3022 34.219 25.4502C33.535 24.5862 33.193 23.4042 33.193 21.9042C33.193 20.4162 33.541 19.2462 34.237 18.3942C34.945 17.5302 35.869 17.0982 37.009 17.0982C37.909 17.0982 38.635 17.3862 39.187 17.9622V14.3802L41.059 13.5162V26.5122H39.187V25.8642C38.671 26.4402 37.945 26.7282 37.009 26.7282ZM37.279 24.9642C38.119 24.9642 38.755 24.6162 39.187 23.9202V19.8702C39.019 19.5942 38.767 19.3602 38.431 19.1682C38.107 18.9642 37.723 18.8622 37.279 18.8622C36.571 18.8622 36.025 19.1262 35.641 19.6542C35.257 20.1822 35.065 20.9322 35.065 21.9042C35.065 22.8162 35.263 23.5542 35.659 24.1182C36.055 24.6822 36.595 24.9642 37.279 24.9642ZM45.4964 15.5502C45.2804 15.7662 45.0164 15.8742 44.7044 15.8742C44.3924 15.8742 44.1224 15.7662 43.8944 15.5502C43.6784 15.3222 43.5704 15.0522 43.5704 14.7402C43.5704 14.4282 43.6784 14.1642 43.8944 13.9482C44.1224 13.7202 44.3924 13.6062 44.7044 13.6062C45.0164 13.6062 45.2804 13.7202 45.4964 13.9482C45.7244 14.1642 45.8384 14.4282 45.8384 14.7402C45.8384 15.0522 45.7244 15.3222 45.4964 15.5502ZM43.7684 26.5122V17.3142H45.6404V26.5122H43.7684ZM54.0439 26.5122V21.0222C54.0439 20.2902 53.8759 19.7502 53.5399 19.4022C53.2039 19.0422 52.7599 18.8622 52.2079 18.8622C50.8879 18.8622 50.2279 19.5702 50.2279 20.9862V26.5122H48.3559V17.3142H50.2279V18.1962C50.8039 17.4642 51.5959 17.0982 52.6039 17.0982C54.8119 17.0982 55.9159 18.4062 55.9159 21.0222V26.5122H54.0439ZM61.6116 30.1122L60.6756 28.6722C61.9476 28.6002 62.8296 28.3842 63.3216 28.0242C63.8256 27.6762 64.0776 27.1962 64.0776 26.5842V25.7742C63.5616 26.4102 62.8236 26.7282 61.8636 26.7282C60.7596 26.7282 59.8536 26.3142 59.1456 25.4862C58.4376 24.6462 58.0836 23.4522 58.0836 21.9042C58.0836 20.4162 58.4316 19.2462 59.1276 18.3942C59.8356 17.5302 60.7596 17.0982 61.8996 17.0982C62.7996 17.0982 63.5256 17.3862 64.0776 17.9622V17.3142H65.9496V25.9182C65.9496 27.3342 65.5956 28.3602 64.8876 28.9962C64.1796 29.6322 63.0876 30.0042 61.6116 30.1122ZM62.2056 24.9642C63.0216 24.9642 63.6456 24.6042 64.0776 23.8842V19.9062C63.8856 19.5942 63.6156 19.3422 63.2676 19.1502C62.9316 18.9582 62.5776 18.8622 62.2056 18.8622C61.4736 18.8622 60.9156 19.1262 60.5316 19.6542C60.1476 20.1702 59.9556 20.9202 59.9556 21.9042C59.9556 22.8402 60.1536 23.5842 60.5496 24.1362C60.9576 24.6882 61.5096 24.9642 62.2056 24.9642ZM74.2972 26.5122V16.7382H72.2272V15.3522C73.5832 15.3522 74.4172 14.8722 74.7292 13.9122H76.1692V26.5122H74.2972Z" fill="#413D45" />
                    {/* <path d="M87 18.5122L91 22.5122L95 18.5122" stroke="#413D45" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" /> */}
                </svg>
                <div className="menu-bar-separator" />
            </>
        )
    }
    else
        return null;
};
const LinksMenu = ({ link, me, store, id }) => {
    const resizeCard = () => {
        const cardSize = link ?
            { height: 112, width: 400 }
            : { height: me.content.displayHeight + 40, width: me.content.displayWidth + 20 }

        if (me?.cardShrinked) {
            store.addCardProperty(store.currentActive, { cardShrinked: null });
            store.resize(store.currentActive, cardSize);
        }
        else {
            store.addCardProperty(store.currentActive, { cardShrinked: true });
            store.resize(store.currentActive, { height: 50, width: 250 });
        }
    }
    return (
        <>
            <div className={"link-menu"} id={"link-menu-" + id} >
                {
                    me?.cardShrinked ?
                        <svg onClick={resizeCard} width="41" height="33" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M29.5 24.5122V27.5122C29.5 28.0426 29.2893 28.5513 28.9142 28.9264C28.5391 29.3015 28.0304 29.5122 27.5 29.5122H24.5M16.5 29.5122H13.5C12.9696 29.5122 12.4609 29.3015 12.0858 28.9264C11.7107 28.5513 11.5 28.0426 11.5 27.5122V24.5122M11.5 16.5122V13.5122C11.5 12.9818 11.7107 12.4731 12.0858 12.098C12.4609 11.7229 12.9696 11.5122 13.5 11.5122H16.5M24.5 11.5122H27.5C28.0304 11.5122 28.5391 11.7229 28.9142 12.098C29.2893 12.4731 29.5 12.9818 29.5 13.5122V16.5122" stroke="#413D45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                        :
                        <svg onClick={resizeCard} width="41" height="33" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0.5 3.51221C0.5 1.85535 1.84315 0.512207 3.5 0.512207H37.5C39.1569 0.512207 40.5 1.85535 40.5 3.51221V37.5122C40.5 39.1691 39.1569 40.5122 37.5 40.5122H3.5C1.84315 40.5122 0.5 39.1691 0.5 37.5122V3.51221Z" fill="#32AAFF" />
                            <path d="M16.5 11.5122V14.5122C16.5 15.0426 16.2893 15.5513 15.9142 15.9264C15.5391 16.3015 15.0304 16.5122 14.5 16.5122H11.5M29.5 16.5122H26.5C25.9696 16.5122 25.4609 16.3015 25.0858 15.9264C24.7107 15.5513 24.5 15.0426 24.5 14.5122V11.5122M24.5 29.5122V26.5122C24.5 25.9818 24.7107 25.4731 25.0858 25.098C25.4609 24.7229 25.9696 24.5122 26.5 24.5122H29.5M11.5 24.5122H14.5C15.0304 24.5122 15.5391 24.7229 15.9142 25.098C16.2893 25.4731 16.5 25.9818 16.5 26.5122V29.5122" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                }
                <svg
                    onClick={() => { store.convertCardToBlank(store.currentActive, me.type); }}
                    width="41" height="33" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.5 21.5122C18.9295 22.0864 19.4774 22.5614 20.1066 22.9052C20.7357 23.2489 21.4315 23.4534 22.1467 23.5046C22.8618 23.5558 23.5796 23.4526 24.2513 23.202C24.9231 22.9514 25.5331 22.5593 26.04 22.0522L29.04 19.0522C29.9508 18.1092 30.4548 16.8462 30.4434 15.5352C30.432 14.2242 29.9061 12.9702 28.9791 12.0431C28.0521 11.1161 26.798 10.5903 25.487 10.5789C24.176 10.5675 22.913 11.0714 21.97 11.9822L20.25 13.6922" stroke="#413D45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M22.5 19.5122C22.0705 18.9381 21.5226 18.463 20.8934 18.1192C20.2642 17.7755 19.5684 17.5711 18.8533 17.5199C18.1382 17.4686 17.4204 17.5718 16.7486 17.8224C16.0769 18.073 15.4668 18.4651 14.96 18.9722L11.96 21.9722C11.0492 22.9152 10.5452 24.1782 10.5566 25.4892C10.568 26.8002 11.0938 28.0542 12.0209 28.9813C12.9479 29.9083 14.202 30.4342 15.5129 30.4456C16.8239 30.457 18.0869 29.953 19.03 29.0422L20.74 27.3322" stroke="#413D45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </div>
            <div className="menu-bar-separator" />
        </>
    )
}
const ImageMenu = ({ store, me }) => {
    const id = store.currentActive;
    const imageHeight = me.content?.height;
    const imageWidth = me.content?.width;
    return (
        <>
            <div data-tip="Resize Card" className={""} style={{ display: 'flex' }} id={"image-menu-" + store.currentActive}>
                {
                    me?.resized ?
                        <button
                            onClick={() => {
                                store.resize(id, { height: me.content.displayHeight + 60, width: me.content.displayWidth + 25 });
                                store.addCardProperty(id, { resized: null });
                            }}
                        >
                            Default Size
                        </button>
                        : null
                }

                <button
                    onClick={() => {
                        var [displayHeight, displayWidth] = resizeDimension(imageHeight, imageWidth, 200);
                        store.resize(id, { height: displayHeight + 60, width: displayWidth + 25 });
                        store.addCardProperty(id, { resized: 'Resize to Small' });
                    }}
                >
                    Resize to Small
                </button>
                <button
                    onClick={() => {
                        var [displayHeightd, displayWidthd] = resizeDimension(imageHeight, imageWidth, 600);
                        store.resize(id, { height: displayHeightd + 60, width: displayWidthd + 25 });
                        store.addCardProperty(id, { resized: "Resize to Medium" })
                    }}
                >
                    Resize to Medium
                </button>
                <button
                    onClick={() => {
                        var [displayHeights, displayWidths] = resizeDimension(imageHeight, imageWidth, 800);
                        store.resize(id, { height: displayHeights + 60, width: displayWidths + 25 });
                        store.addCardProperty(id, { resized: "Resize to Large" });
                    }}
                >
                    Resize to Large
                </button>
                <svg
                    onClick={() => { store.convertCardToBlank(store.currentActive, me.type); }}
                    width="41" height="41" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.5 21.5122C18.9295 22.0864 19.4774 22.5614 20.1066 22.9052C20.7357 23.2489 21.4315 23.4534 22.1467 23.5046C22.8618 23.5558 23.5796 23.4526 24.2513 23.202C24.9231 22.9514 25.5331 22.5593 26.04 22.0522L29.04 19.0522C29.9508 18.1092 30.4548 16.8462 30.4434 15.5352C30.432 14.2242 29.9061 12.9702 28.9791 12.0431C28.0521 11.1161 26.798 10.5903 25.487 10.5789C24.176 10.5675 22.913 11.0714 21.97 11.9822L20.25 13.6922" stroke="#413D45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    <path d="M22.5 19.5122C22.0705 18.9381 21.5226 18.463 20.8934 18.1192C20.2642 17.7755 19.5684 17.5711 18.8533 17.5199C18.1382 17.4686 17.4204 17.5718 16.7486 17.8224C16.0769 18.073 15.4668 18.4651 14.96 18.9722L11.96 21.9722C11.0492 22.9152 10.5452 24.1782 10.5566 25.4892C10.568 26.8002 11.0938 28.0542 12.0209 28.9813C12.9479 29.9083 14.202 30.4342 15.5129 30.4456C16.8239 30.457 18.0869 29.953 19.03 29.0422L20.74 27.3322" stroke="#413D45" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            </div>
            <div className="menu-bar-separator" />
        </>
    )
}
export default DisplayCardMenu;